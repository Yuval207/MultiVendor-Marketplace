import{I as x}from"./chunk-CFLYFMNQ-Bl-NcMbC.js";import{q as u,R as f,d as j,e4 as p,e5 as y,a as _,j as e,U as h,d8 as g,s as I,b as S,aU as b,H as w,A as q}from"./index-DEFeRDIL.js";import{S as o}from"./chunk-LFLGEXIG-CVjpl19d.js";import{T as c}from"./chunk-2RQLKDBF-fPF6GiYf.js";import{P as k}from"./pencil-square-Tj9O38EM.js";import{C as P}from"./container-DxC93x08.js";import"./Trans-CZb6R4yh.js";import"./x-mark-mini-tIH3HTi4.js";var A=i=>({queryKey:g.detail(i),queryFn:async()=>I.admin.reservation.retrieve(i)}),K=async({params:i})=>{const n=i.id,t=A(n);return u.getQueryData(t.queryKey)??await u.fetchQuery(t)},C=({reservation:i})=>{const{t:n}=S(),{inventory_item:t,isPending:d}=y(i.inventory_item_id),{stock_location:a,isPending:l}=b(i.location_id);if(d||!t||l||!a)return e.jsx("div",{children:"Loading..."});const r=t.location_levels.find(s=>s.location_id===i.location_id);return e.jsxs(P,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(w,{children:n("inventory.reservation.header",{itemName:t.title??t.sku})}),e.jsx(q,{groups:[{actions:[{icon:e.jsx(k,{}),label:n("actions.edit"),to:"edit"}]}]})]}),e.jsx(o,{title:n("inventory.reservation.lineItemId"),value:i.line_item_id}),e.jsx(o,{title:n("inventory.reservation.description"),value:i.description}),e.jsx(o,{title:n("inventory.reservation.location"),value:a==null?void 0:a.name}),e.jsx(o,{title:n("inventory.reservation.inStockAtLocation"),value:r==null?void 0:r.stocked_quantity}),e.jsx(o,{title:n("inventory.reservation.availableAtLocation"),value:r==null?void 0:r.available_quantity}),e.jsx(o,{title:n("inventory.reservation.reservedAtLocation"),value:r==null?void 0:r.reserved_quantity})]})},G=()=>{var v,m;const{id:i}=f(),n=j(),{reservation:t,isLoading:d,isError:a,error:l}=p(i,void 0,{initialData:n}),{inventory_item:r}=y((v=t==null?void 0:t.inventory_item)==null?void 0:v.id,void 0,{enabled:!!((m=t==null?void 0:t.inventory_item)!=null&&m.id)}),{getWidgets:s}=_();if(d||!t)return e.jsx(h,{mainSections:1,sidebarSections:1,showJSON:!0,showMetadata:!0});if(a)throw l;return e.jsxs(c,{widgets:{before:s("reservation.details.before"),after:s("reservation.details.after"),sideBefore:s("reservation.details.side.before"),sideAfter:s("reservation.details.side.after")},data:t,showJSON:!0,showMetadata:!0,children:[e.jsx(c.Main,{children:e.jsx(C,{reservation:t})}),e.jsx(c.Sidebar,{children:r&&e.jsx(x,{inventoryItem:r})})]})};export{G as Component,K as loader};
